<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/kiosk.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/kiosk.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useContext, useEffect } from "react";
import styles from "./kiosk.module.css";
import { useGlobalState } from "@/app/context/GlobalStateContext";
import { useRouter } from "next/router";
import AirIcon from "@mui/icons-material/Air";
import WbSunnyIcon from "@mui/icons-material/WbSunny";
import CloudIcon from "@mui/icons-material/Cloud";
import ThunderstormIcon from "@mui/icons-material/Thunderstorm";
import AcUnitIcon from "@mui/icons-material/AcUnit";
import TranslateButton from "@/app/components/kiosk/translateButton";
import CustomerLogInModal from "@/app/components/kiosk/customerLogInModal";

import AccessibilityButton from "./accessButton";
import Head from "next/head"; // Import Head for managing the document head

/**
 * @description
 * Welcome component for the kiosk home page. Displays the current time, weather, and language selection.
 * @feature
 * - Displays the current time
 * - Displays the current weather condition and temperature
 * - Allows the user to select a language
 * - Displays a customer login button
 * - Displays a translate button
 * - Displays a handicap button
 * - Displays a bottom panel
 * @state
 * - `weather`: The current weather condition and temperature
 * - `time`: The current time
 * - `isLoginModalOpen`: A boolean indicating whether the customer login modal is open
 * @param {function} toItemPage - A function to navigate to the item page
 * @returns {JSX.Element} The Welcome component
 * @author Alonso Peralta Espinoza, Brandon Batac
 */
const Welcome = ({ toItemPage }) => {
  const { currentLanguage, changeLanguage, customerName, translations } =
    useGlobalState();
  const [weather, setWeather] = useState({ temp: null, condition: null });
  const [time, setTime] = useState("");
  const [isLoginModalOpen, setLoginModalOpen] = useState(false);
  console.log(customerName);

  /**
   * Handles a change in the language dropdown by calling changeLanguage with the selected language value.
   * @param {React.ChangeEvent&lt;HTMLSelectElement>} e - The change event from the language dropdown
   * @returns {void}
   *
   * @author Brandon Batac
   */

  const handleLanguageChange = (e) => {
    const newLanguage = e.target.value;
    changeLanguage(newLanguage);
  };

  useEffect(() => {
    const updateTime = () => {
      const now = new Date();
      setTime(
        now.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })
      );
    };
    updateTime();
    const timer = setInterval(updateTime, 60000); // Update every minute
    return () => clearInterval(timer);
  }, []);

  useEffect(() => {
    const fetchWeather = async () => {
      try {
        const response = await fetch(
          "https://wttr.in/College+Station?format=%t+%C"
        );
        const data = await response.text();

        const match = data.match(/([+-]?\d+Â°[CF])\s+(.+)/);

        if (match) {
          const temp = match[1].replace("+", "");
          const condition = match[2];
          setWeather({ temp, condition });
        } else {
          console.error("Unexpected weather data format:", data);
        }
      } catch (error) {
        console.error("Error fetching weather data:", error);
      }
    };
    fetchWeather();
  }, []);

  /**
   * Given a weather condition, returns the corresponding MaterialUI icon.
   *
   * @author Alonso Peralta Espinoza
   *
   * @param {string} condition
   * @returns {JSX.Element|null}
   */

  const getWeatherIcon = (condition) => {
    if (condition.includes("Sunny") || condition.includes("Clear"))
      return &lt;WbSunnyIcon />;
    if (condition.includes("Partly cloudy")) return &lt;CloudIcon />;
    if (condition.includes("Cloudy") || condition.includes("Overcast"))
      return &lt;CloudIcon />;
    if (
      condition.includes("Rain") ||
      condition.includes("Showers") ||
      condition.includes("rain")
    )
      return &lt;ThunderstormIcon />;
    if (condition.includes("Thunderstorm") || condition.includes("Thunder"))
      return &lt;ThunderstormIcon />;
    if (condition.includes("Snow")) return &lt;AcUnitIcon />;
    if (condition.includes("Windy") || condition.includes("Breezy"))
      return &lt;AirIcon />;
    if (
      condition.includes("Fog") ||
      condition.includes("Mist") ||
      condition.includes("Haze")
    )
      return &lt;CloudIcon />;
    return null;
  };

  return (
    &lt;div className={styles.layout}>
      &lt;div className={styles.clockLogoContainer}>
        {weather.temp &amp;&amp; weather.condition &amp;&amp; (
          &lt;div className={styles.weatherBox}>
            &lt;div className={styles.weatherIcon}>
              {getWeatherIcon(weather.condition)}
            &lt;/div>
            &lt;div className={styles.weatherTemp}>{weather.temp}&lt;/div>
          &lt;/div>
        )}
        &lt;div className={styles.timestamp}>{time}&lt;/div>
      &lt;/div>
      &lt;img
        src="/panda_express.png"
        alt="Panda Express Logo"
        className={styles.logo}
      />
      &lt;h1 className={styles.welcomeHeader}>
        {translations["We Wok For You"] || "We Wok For You"}
      &lt;/h1>
      &lt;div onClick={toItemPage} className={styles.orderHeader}>
        &lt;h1>
          {customerName === "Guest"
            ? currentLanguage === "en"
              ? "Tap to Order Now as Guest"
              : translations["Tap to Order Now as Guest"]
            : currentLanguage === "en"
            ? "Tap to Order Now as " + customerName
            : translations["Tap to Order Now as "] + customerName}
        &lt;/h1>
      &lt;/div>
      &lt;div className={styles.customerLoginWrapper}>
        &lt;button
          onClick={() => setLoginModalOpen(true)}
          className={styles.openModalButton}
        >
          {translations["Customer Login"] || "Customer Login"}
        &lt;/button>
      &lt;/div>
      {/* Render Customer Log In Modal */}
      &lt;CustomerLogInModal
        isOpen={isLoginModalOpen}
        onClose={() => setLoginModalOpen(false)}
      />
      &lt;div className={styles.translateButton}>
        &lt;TranslateButton
          currentLanguage={currentLanguage}
          onLanguageChange={handleLanguageChange}
        />
      &lt;/div>
      &lt;div className={styles.handicapWrapper}>
        &lt;AccessibilityButton />
      &lt;/div>
      &lt;div className={styles.circle}>&lt;/div>
      &lt;div className={styles.bottomPanel}>&lt;/div>
    &lt;/div>
  );
};

/**
 * @description
 * KioskPage component serves as the main entry point for the Panda Express kiosk application.
 * It sets up the page's metadata and layout, including the welcome component, which allows users to start an order.
 *
 * @component
 * - Utilizes the `Welcome` component to display the initial page content.
 * - Uses Next.js `Head` component to manage the document head metadata.
 *
 * @dependencies
 * - `useRouter`: For navigation to different pages.
 * - `Welcome`: Component for displaying welcome messages and options.
 *
 * @param {function} toItemPage - A function to navigate to the item selection page.
 *
 * @returns {JSX.Element} The rendered KioskPage component.
 *
 * @author Brandon Batac, Uzair Khan
 */
const KioskPage = () => {
  const router = useRouter();

  const toItemPage = () => {
    router.push("/kiosk_item");
  };

  return (
    &lt;>
      &lt;Head>
        {/* Add or update the page title */}
        &lt;title>Welcome to Panda Express Kiosk&lt;/title>
        {/* Add other metadata if needed */}
        &lt;meta
          name="description"
          content="Order from Panda Express using our interactive kiosk."
        />
      &lt;/Head>
      &lt;div
        style={{
          height: "100vh", // Full height of the viewport
          overflow: "hidden", // Prevent scrolling
        }}
      >
        &lt;Welcome toItemPage={toItemPage} />
      &lt;/div>
    &lt;/>
  );
};

export default KioskPage;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-api_add-employee.html">api/add-employee</a></li><li><a href="module-api_cashier-getMenu.html">api/cashier-getMenu</a></li><li><a href="module-api_customerLogin.html">api/customerLogin</a></li><li><a href="module-api_customerSignUp.html">api/customerSignUp</a></li><li><a href="module-api_deleteItem.html">api/deleteItem</a></li><li><a href="module-api_deleteSale.html">api/deleteSale</a></li><li><a href="module-api_employee-viewer.html">api/employee-viewer</a></li><li><a href="module-api_fortune-ai.html">api/fortune-ai</a></li><li><a href="module-api_generate-z-report.html">api/generate-z-report</a></li><li><a href="module-api_get-employee-info.html">api/get-employee-info</a></li><li><a href="module-api_inventory-table.html">api/inventory-table</a></li><li><a href="module-api_items.html">api/items</a></li><li><a href="module-api_kitchen-cancel-order.html">api/kitchen-cancel-order</a></li><li><a href="module-api_kitchen-get-orders.html">api/kitchen-get-orders</a></li><li><a href="module-api_kitchen-remove-sale.html">api/kitchen-remove-sale</a></li><li><a href="module-api_kitchen-update-order-status.html">api/kitchen-update-order-status</a></li><li><a href="module-api_login-info.html">api/login-info</a></li><li><a href="module-api_menu-get-items.html">api/menu-get-items</a></li><li><a href="module-api_oauth.html">api/oauth</a></li><li><a href="module-api_reset-salesRecord.html">api/reset-salesRecord</a></li><li><a href="module-api_restock-Report-inventory.html">api/restock-Report-inventory</a></li><li><a href="module-api_resyncIds.html">api/resyncIds</a></li><li><a href="module-api_sales-chart.html">api/sales-chart</a></li><li><a href="module-api_sales-report.html">api/sales-report</a></li><li><a href="module-api_toggle-employee.html">api/toggle-employee</a></li><li><a href="module-api_top-selling-item.html">api/top-selling-item</a></li><li><a href="module-api_update-employee.html">api/update-employee</a></li><li><a href="module-api_update-inventory-item.html">api/update-inventory-item</a></li><li><a href="module-api_updateCustomerPoints.html">api/updateCustomerPoints</a></li><li><a href="module-api_updateIngredient.html">api/updateIngredient</a></li><li><a href="module-api_updateMenuItem.html">api/updateMenuItem</a></li><li><a href="module-api_updateSalesRecord.html">api/updateSalesRecord</a></li><li><a href="module-api_updateSeasonalItem.html">api/updateSeasonalItem</a></li><li><a href="module-api_x-report.html">api/x-report</a></li><li><a href="module-api_z-report.html">api/z-report</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AccessibilityButton">AccessibilityButton</a></li><li><a href="global.html#AddEmployeeForm">AddEmployeeForm</a></li><li><a href="global.html#AddMenuModal">AddMenuModal</a></li><li><a href="global.html#AiAgent">AiAgent</a></li><li><a href="global.html#BottomBar">BottomBar</a></li><li><a href="global.html#BottomPanel">BottomPanel</a></li><li><a href="global.html#ButtonGrid">ButtonGrid</a></li><li><a href="global.html#CartPage">CartPage</a></li><li><a href="global.html#CashierPage">CashierPage</a></li><li><a href="global.html#Customer">Customer</a></li><li><a href="global.html#CustomerLogIn">CustomerLogIn</a></li><li><a href="global.html#CustomerPointsModal">CustomerPointsModal</a></li><li><a href="global.html#CustomerSignUp">CustomerSignUp</a></li><li><a href="global.html#DropDowns">DropDowns</a></li><li><a href="global.html#EditEmployeeModal">EditEmployeeModal</a></li><li><a href="global.html#EmployeeIdModal">EmployeeIdModal</a></li><li><a href="global.html#EmployeeViewerModal">EmployeeViewerModal</a></li><li><a href="global.html#GlobalStateProvider">GlobalStateProvider</a></li><li><a href="global.html#InventoryTable">InventoryTable</a></li><li><a href="global.html#ItemFrame">ItemFrame</a></li><li><a href="global.html#KioskALaCartePage">KioskALaCartePage</a></li><li><a href="global.html#KioskBiggerPlatePage">KioskBiggerPlatePage</a></li><li><a href="global.html#KioskBowlPage">KioskBowlPage</a></li><li><a href="global.html#KioskItemPage">KioskItemPage</a></li><li><a href="global.html#KioskItemPanel">KioskItemPanel</a></li><li><a href="global.html#KioskPage">KioskPage</a></li><li><a href="global.html#KioskPlatePage">KioskPlatePage</a></li><li><a href="global.html#KitchenPage">KitchenPage</a></li><li><a href="global.html#KitchenTV">KitchenTV</a></li><li><a href="global.html#Landing">Landing</a></li><li><a href="global.html#Loading">Loading</a></li><li><a href="global.html#LoginOAuth">LoginOAuth</a></li><li><a href="global.html#Manager">Manager</a></li><li><a href="global.html#ManagerProfile">ManagerProfile</a></li><li><a href="global.html#Menu">Menu</a></li><li><a href="global.html#Navbar">Navbar</a></li><li><a href="global.html#OrderPanel">OrderPanel</a></li><li><a href="global.html#RecommendationPanel">RecommendationPanel</a></li><li><a href="global.html#ResetPassword">ResetPassword</a></li><li><a href="global.html#ResetSalesDataModal">ResetSalesDataModal</a></li><li><a href="global.html#RestockReportModal">RestockReportModal</a></li><li><a href="global.html#RoleProvider">RoleProvider</a></li><li><a href="global.html#SalesChart">SalesChart</a></li><li><a href="global.html#SalesReportModal">SalesReportModal</a></li><li><a href="global.html#SignOAuth">SignOAuth</a></li><li><a href="global.html#ThankYouPage">ThankYouPage</a></li><li><a href="global.html#TopBar">TopBar</a></li><li><a href="global.html#UpdateInventoryItemModal">UpdateInventoryItemModal</a></li><li><a href="global.html#VerifyEmail">VerifyEmail</a></li><li><a href="global.html#Welcome">Welcome</a></li><li><a href="global.html#XReportModal">XReportModal</a></li><li><a href="global.html#ZReportModal">ZReportModal</a></li><li><a href="global.html#handleTextToSpeech">handleTextToSpeech</a></li><li><a href="global.html#handler">handler</a></li><li><a href="global.html#translateAllText">translateAllText</a></li><li><a href="global.html#translateAllText-TranslatesanarrayoftextsintothetargetlanguageusingGoogleTranslateAPI.">translateAllText - Translates an array of texts into the target language using Google Translate API.</a></li><li><a href="global.html#useTranslate">useTranslate</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed Dec 04 2024 19:15:47 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
